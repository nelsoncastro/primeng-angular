<p-toast></p-toast>
<p-confirmPopup></p-confirmPopup>
<p-breadcrumb [model]="items" [home]="home"></p-breadcrumb>
<div class="p-field p-col-12 p-md-12" style="margin: 0px !important;"></div>
<div class="p-field p-col-12 p-md-12" style="margin: 0px !important;">
<form [formGroup]="validateForm" (ngSubmit)="submitForm(validateForm.value)">
  <p-panel header="Consultar">
    <div class="p-fluid p-formgrid p-grid">
      <div class="p-field p-col-12 p-md-4">
          <label for="name">Produto</label>
          <input formControlName="name" id="name" type="text" pInputText>
      </div>
      <div class="p-field p-col-12 p-md-1">
        <button pButton type="submit" label="Consultar" [disabled]="!validateForm.valid"
          class="p-button-outlined" style="margin-top: 25px !important"></button>
      </div>
      <div class="p-field p-col-12 p-md-1">
        <button pButton type="reset" label="Limpar" (click)="resetForm()"
          class="p-button-outlined p-button-secondary" style="margin-top: 25px !important"></button>
      </div>
      <div class="p-field p-col-12 p-md-1">
        <button pButton type="button" label="Novo" routerLink="add"
        class="p-button-outlined p-button-success" style="margin-top: 25px !important"></button>
      </div>
    </div>
  </p-panel>
</form>
</div>

<div class="p-field p-col-12 p-md-12">
<p-panel header="Resultado">
  <p-table [value]="products" [paginator]="true" [rows]="rows" [first]="first">
  <ng-template pTemplate="header">
      <tr>
          <th style="width: 500px;">Nome</th>
          <th style="width: 500px;">Descrição</th>
          <th class="col-center">Quantidade</th>
          <th class="col-center">Preço</th>
          <th class="col-center">Ativo</th>
          <th class="col-center">Avaliação</th>
          <th class="col-center">Ações</th>
      </tr>
  </ng-template>
    <ng-template pTemplate="body" let-product>
      <tr>
          <td>{{product.name}}</td>
          <td>{{product.description}}</td>
          <td class="col-center">{{product.quantity}}</td>
          <td class="col-center">{{product.price}}</td>
          <td class="col-center">{{ product.active.toString() | translate }}</td>
          <td class="col-center"><p-rating [(ngModel)]="product.rate"
            [cancel]="false" [readonly]="true" ></p-rating></td>
          <td class="col-center">
            <button routerLink="edit/{{product.id}}" pButton icon="pi pi-pencil"
            class="action-button" pTooltip="Editar Registro" tooltipPosition="left"></button>
            <button (click)="confirm(product)" pButton icon="pi pi-minus"
              pTooltip="Excluir Registro" tooltipPosition="left"></button>
          </td>
      </tr>
    </ng-template>
  </p-table>
</p-panel>
</div>
